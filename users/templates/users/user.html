{% extends 'poll/base.html' %}

{% block title %}
    <title> Profile </title>
{% endblock %}



{% block body %}

    <h2> Welcome, {{ user_profile }} </h2>
    <p> @{{ user_profile.user.username.lower }} </p>
    <p>---- {{ user_profile.user.email }} </p>
    

    <hr>

    <div id="connect">
        <p>  {{ followers|length }}  Follower(s)</p>
        <ul>
            {% for follower in followers %}
                
                {% empty %}
                    <i> You don't have any followers</i>

                <li> <a href="{% url 'users:profile' follower %}"> {{follower}} </a> </li>

                

            {% endfor %}
        </ul>

        <p>  {{ followings|length }}  Following(s) </p>
        <ul>
            {% for following in followings %}
                
                {% empty %}
                    <i> You don't have any followers</i>

                <li> <a href="{% url 'users:profile' following %}"> {{follower}} </a> </li>

                

            {% endfor %}
        </ul>
        
    </div>
    
    <hr>
    
    <h3>
        <i> My Polls... ({{ questions|length }})</i>
    </h3>
    
    <h3>
        <a href="{% url 'poll:activities' %}"> Activities </a>
    </h3>

    
    <hr>
    <ol>
    {% for question in questions %}
    
        <li> {{ question.question_text }} </li>
        <a href="{% url 'poll:poll_details' question.id %}"> View Poll </a>

    {% empty %}
        <i> You haven't created any polls </i>
    {% endfor %}
    </ol>

    {% if request.user != user %}
        <form action="{% url 'users:connect' user.id  %}" method="post">
            {% csrf_token %}
            <input type="submit" name="connect" value="Connect">
        </form>
    {% endif %}
        
    <br>

    {% if request.user == user %}

        <a href="{% url 'users:logout' %}"> Logout </a>

    {% endif %}
    
{% endblock %}
